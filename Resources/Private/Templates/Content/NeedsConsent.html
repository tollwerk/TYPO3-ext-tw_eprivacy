<f:comment><!--

    Content needs consent message

    @param array[] subjects			Subjects


--></f:comment>
<html xmlns:f="https://xsd.helhum.io/ns/typo3/cms-fluid/master/ViewHelpers"
      xmlns:eprivacy="http://typo3.org/ns/Tollwerk/tw_eprivacy/ViewHelpers"
      data-namespace-typo3-fluid="true">

    <f:variable name="subjects" value="{eprivacy:findSubjectsByName(names: consentItems)}"/>

    <aside class="CookieNeedsConsent">
        <p class="CookieNeedsConsent__text">
            {f:translate(key: 'content.needsConsent.text', arguments: {0: header})}
        </p>
        <f:debug>{subjects}</f:debug>

        <ul class="CookieNeedsConsent__subjects">
            <f:for each="{subjects.byIdentifier}"as="subject">
                <li class="CookieNeedsConsent__subject">
                    <details>
                        <summary>{subject.title}</summary>
                        <f:format.html>{subject.purpose}</f:format.html>
                    </details>

                </li>
            </f:for>
        </ul>
        <p>
            Klicken Sie
            <f:link.action
                    pageUid="473"
                    action="addConsent"
                    controller="Subject"
                    pluginName="Eprivacy"
                    extensionName="TwEprivacy"
                    arguments="{pid: 1, addIdentifiers: subjects.identifiers}"
                    section="c{uid}"
            >hier</f:link.action>
            , um diese Cookies zu akzeptieren. Alle Cookie-Einstellungen Sie finden sie <f:link.page pageUid="473">dieser Seite</f:link.page>.
        </p>
    </aside>

</html>
